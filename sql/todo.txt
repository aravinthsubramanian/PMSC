cd PMSC


1=====================================
composer install

2======================================
cp .env.example .env  ((copy [.env.example] content to [.env]))

3======================================
php artisan key:generate

4=======================================
php artisan storage:link

5======================================================
composer require spatie/laravel-permission

6==================================================================================
service provider manually add config/app.php file:
'providers' => [
    // ...
    Spatie\Permission\PermissionServiceProvider::class,
];

7=========================================================================================
php artisan vendor:publish --provider="Spatie\Permission\PermissionServiceProvider"

8======================================================================================================
Add below content to app/Http/Kernel.php file:

protected $middlewareAliases = [
    ...

    'role' => \Spatie\Permission\Middleware\RoleMiddleware::class,
    'permission' => \Spatie\Permission\Middleware\PermissionMiddleware::class,
    'role_or_permission' => \Spatie\Permission\Middleware\RoleOrPermissionMiddleware::class,
];

9========================================================================================================
Update changes vendor\spatie\laravel-permission\src\Middleware\PermissionMiddleware.php file:

public function handle($request, Closure $next, $permission, $guard = 'admin')  // Instead of "null" change "admin"
{
    ...
}
public static function using($permission, $guard = 'admin') // Instead of "null" change "admin"
{
    ...
}

10====================================================================================
composer require tymon/jwt-auth

11================================================================================
Add the service provider to config/app.php config file:
'providers' => [
    ...

    Tymon\JWTAuth\Providers\LaravelServiceProvider::class,
]

12=================================================================================================
php artisan vendor:publish --provider="Tymon\JWTAuth\Providers\LaravelServiceProvider"

13===========================================================================================================
php artisan jwt:secret

(jwt-auth secret [ki85FHwQv4uXFmvhH4VhvSEzOrXs5nCX4d6iuqmaD8qWlotxYI5eGOFe7jRAT95L] set successfully.)

14==============================================================
mysql config in .ENV file:

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=pmsc  //database name
DB_USERNAME=root
DB_PASSWORD=

15====================================================================
php artisan optimize 
    (or) 
php artisan config:clear

16=======================================================
php artisan migrate

17===================================================
php artisan db:seed

18============================================
php artisan serve